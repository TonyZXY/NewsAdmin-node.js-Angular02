<div class="container-fluid">
  <div class="row">
    <div class="col-sm-2">
      <app-toolbar [parentPath]="string"></app-toolbar>
      <!--[parentData]="path"-->
    </div>
    <div class="col-sm-10">
      <form class="col-7" method="post" action="/news/addNews" (ngSubmit)="onSubmit()" #addNewsForm="ngForm">
        <div class="form-group">
          <label for="titleLabel">标题</label>
          <input
            type="text"
            class="form-control"
            id="titleLabel"
            required
            [(ngModel)]="newsToAdd.title"
            name="title"
            #title="ngModel">
          <label
            for="titleLabel"
            [hidden]="title.valid || !(title.dirty || title.touched)"
            class="alert alert-danger col-12">
            *未输入标题
          </label>
        </div>
        <div class="form-group">
          <label for="authorLabel">作者</label>
          <input
            type="text"
            class="form-control"
            id="authorLabel"
            required
            [(ngModel)]="newsToAdd.author"
            name="author"
            #author="ngModel">
          <label
            for="authorLabel"
            [hidden]="author.valid || !(author.dirty || author.touched)"
            class="alert alert-danger col-12">
            *未输入作者
          </label>
        </div>
        <label>
          标签
        </label>
        <div class="form-group">
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="national"
              value="国内"
              required
              [(ngModel)]="newsToAdd.localeTag"
              name="localeTag"
              #localeTag="ngModel">
            <label class="form-check-label" for="national">
              国内
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="international"
              value="国际"
              required
              [(ngModel)]="newsToAdd.localeTag"
              name="localeTag"
              #localeTag="ngModel">
            <label class="form-check-label" for="international">
              国际
            </label>
          </div>
          <label
            *ngIf="localeTag.touched && localeTag.invalid"
            class="alert alert-danger col-12">
            *未选择地区标签
          </label>
        </div>
        <div class="form-group">
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="trend_content"
              value="趋势"
              required
              [(ngModel)]="newsToAdd.contentTag"
              name="contentTag"
              #contentTag="ngModel">
            <label class="form-check-label" for="trend_content">
              趋势
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="deep_content"
              value="深度"
              required
              [(ngModel)]="newsToAdd.contentTag"
              name="contentTag"
              #contentTag="ngModel">
            <label class="form-check-label" for="deep_content">
              深度
            </label>
          </div>
          <label
            *ngIf="contentTag.touched && contentTag.invalid"
            class="alert alert-danger col-12">
            *未选择内容标签
          </label>
        </div>
        <label>
          语言
        </label>
        <div class="form-group">
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="cn_language"
              value="CN"
              required
              [(ngModel)]="newsToAdd.languageTag"
              name="languageTag"
              #languageTag="ngModel">
            <label class="form-check-label" for="cn_language">
              中文
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="en_language"
              value="EN"
              required
              [(ngModel)]="newsToAdd.languageTag"
              name="languageTag"
              #languageTag="ngModel">
            <label class="form-check-label" for="en_language">
              英文
            </label>
          </div>
          <label
            *ngIf="languageTag.touched && languageTag.invalid"
            class="alert alert-danger col-12">
            *未选择语言标签
          </label>
        </div>
        <div class="form-group">
          <label for="descriptionLabel">简介</label>
          <input
            type="text"
            class="form-control"
            id="descriptionLabel"
            required [(ngModel)]="newsToAdd.newsDescription"
            name="newsDescription"
            #newsDescription="ngModel">
          <label
            for="descriptionLabel"
            [hidden]="newsDescription.valid || !(newsDescription.dirty || newsDescription.touched)"
            class="alert alert-danger col-12">
            *未输入简介
          </label>
        </div>
        <div class="form-group">
          <label for="imageUrlLabel">图片地址</label>
          <textarea
            type="text"
            class="form-control"
            rows="5"
            id="imageUrlLabel"
            required
            [(ngModel)]="newsToAdd.imageURL"
            name="imageURL"
            #imageURL="ngModel">
          </textarea>
          <label
            for="imageUrlLabel"
            [hidden]="imageURL.valid || !(imageURL.dirty || imageURL.touched)"
            class="alert alert-danger col-12">
            *未输入图片地址
          </label>
        </div>
        <div class="form-group">
          <label for="urlLabel">文章地址</label>
          <textarea
            type="text"
            class="form-control"
            rows="5"
            id="urlLabel"
            required
            [(ngModel)]="newsToAdd.url"
            name="url"
            #url="ngModel">
          </textarea>
          <label
            for="urlLabel"
            [hidden]="url.valid || !(url.dirty || url.touched)"
            class="alert alert-danger col-12">
            *未输入文章地址
          </label>
        </div>
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="!addNewsForm.form.valid"
          data-toggle="modal"
          data-target="#informationDialog">
          Submit
        </button>

        <div class="modal fade" id="informationDialog" tabindex="-1" role="dialog"
             aria-labelledby="informationDialogTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="informationDialogTitle">{{messageTitle}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                {{messageBody}}
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  (click)="succeeded ? (addNewsForm.reset()) && (succeeded=false):false">
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>


      </form>
    </div>
  </div>
</div>
